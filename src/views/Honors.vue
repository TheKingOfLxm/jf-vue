<script setup>
import { ref } from 'vue';

const showPreview = ref(false);
const previewImage = ref('');
const previewTitle = ref('');

const openPreview = (image, title) => {
    previewImage.value = image;
    previewTitle.value = title;
    showPreview.value = true;
    document.body.style.overflow = 'hidden';
};

const closePreview = () => {
    showPreview.value = false;
    document.body.style.overflow = '';
};

const certificates = [
    { name: 'å…¬å¸è¥ä¸šæ‰§ç…§', desc: 'ä¼ä¸šæ³•äººè¥ä¸šæ‰§ç…§', image: '/images/honors/å…¬å¸è¥ä¸šæ‰§ç…§.jpg' },
    { name: 'è´¨é‡ç®¡ç†ä½“ç³»è®¤è¯ä¹¦', desc: 'ISO9001è´¨é‡ç®¡ç†ä½“ç³»è®¤è¯', image: '/images/honors/certs/å›¾ç‰‡2.jpg' },
    { name: 'ç¯å¢ƒç®¡ç†ä½“ç³»è®¤è¯ä¹¦', desc: 'ISO14001ç¯å¢ƒç®¡ç†ä½“ç³»è®¤è¯', image: '/images/honors/ç¯å¢ƒç®¡ç†ä½“ç³»è®¤è¯ä¹¦.jpg' },
    { name: 'èŒä¸šå¥åº·å®‰å…¨ç®¡ç†ä½“ç³»è®¤è¯ä¹¦', desc: 'OHSMSèŒä¸šå¥åº·å®‰å…¨ç®¡ç†ä½“ç³»è®¤è¯', image: '/images/honors/èŒä¸šå¥åº·å®‰å…¨ç®¡ç†ä½“ç³»è®¤è¯ä¹¦.jpg' },
    { name: 'è´¨é‡ç®¡ç†è®¤è¯ä¹¦', desc: 'è´¨é‡ç®¡ç†ä½“ç³»è®¤è¯è¯ä¹¦', image: '/images/honors/certs/å›¾ç‰‡3.jpg' },
    { name: 'å¼€æˆ·è®¸å¯', desc: 'ä¼ä¸šå¼€æˆ·è®¸å¯è¯', image: '/images/honors/å¼€æˆ·è®¸å¯.jpg' }
];

const awards = [
    { name: 'åŒ—äº¬å¸‚æŠ€æœ¯æ”¹é€ ä¼˜ç§€é¡¹ç›®äºŒç­‰å¥–', desc: 'è·å¾—åŒ—äº¬å¸‚æŠ€æœ¯æ”¹é€ ä¼˜ç§€é¡¹ç›®äºŒç­‰å¥–', year: 'å†å¹´' },
    { name: 'å›½å®¶æ˜Ÿç«ç§‘æŠ€äºŒç­‰å¥–', desc: 'è·å¾—å›½å®¶æ˜Ÿç«ç§‘æŠ€äºŒç­‰å¥–', year: 'å†å¹´' },
    { name: 'ISOè´¨é‡ç®¡ç†ä½“ç³»è®¤è¯', desc: 'é€šè¿‡ISOè´¨é‡ç®¡ç†ä½“ç³»è®¤è¯', year: 'å†å¹´' },
    { name: 'ç¯å¢ƒç®¡ç†ä½“ç³»è®¤è¯', desc: 'é€šè¿‡ç¯å¢ƒç®¡ç†ä½“ç³»è®¤è¯', year: 'å†å¹´' },
    { name: 'èŒä¸šå¥åº·ç®¡ç†ä½“ç³»è®¤è¯', desc: 'é€šè¿‡èŒä¸šå¥åº·ç®¡ç†ä½“ç³»è®¤è¯', year: 'å†å¹´' },
    { name: 'ä¿¡æ¯æŠ€æœ¯æœåŠ¡ç®¡ç†ä½“ç³»è®¤è¯', desc: 'é€šè¿‡ä¿¡æ¯æŠ€æœ¯æœåŠ¡ç®¡ç†ä½“ç³»è®¤è¯', year: 'å†å¹´' },
    { name: 'ä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»è®¤è¯', desc: 'é€šè¿‡ä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»è®¤è¯', year: 'å†å¹´' }
];

const patents = [
    { name: 'ä¼ºæœé©±åŠ¨é«˜ç²¾åº¦åœ¨çº¿å¼åŠ é¦™åŠ æ–™è£…ç½®', image: '/images/honors/patents/ä¼ºæœé©±åŠ¨é«˜ç²¾åº¦åœ¨çº¿å¼åŠ é¦™åŠ æ–™è£…ç½®.jpg' },
    { name: 'ä¼ºæœé©±åŠ¨é«˜ç²¾åº¦åœ¨çº¿å¼åŠ é¦™åŠ æ–™æœºï¼ˆå¤–è§‚ï¼‰', image: '/images/honors/patents/ä¼ºæœé©±åŠ¨é«˜ç²¾åº¦åœ¨çº¿å¼åŠ é¦™åŠ æ–™æœºï¼ˆå¤–è§‚ï¼‰.jpg' },
    { name: 'ä¸€ç§ä¼ºæœåŠ æ–™æ³µç³»ç»Ÿ', image: '/images/honors/patents/ä¸€ç§ä¼ºæœåŠ æ–™æ³µç³»ç»Ÿ.jpg' },
    { name: 'ä¸€ç§å…¨æœºæ¢°è‡ªåŠ¨çš®å¸¦è°ƒåæœºæ„', image: '/images/honors/patents/ä¸€ç§å…¨æœºæ¢°è‡ªåŠ¨çš®å¸¦è°ƒåæœºæ„.jpg' },
    { name: 'ä¸€ç§åº”ç”¨åœ¨æ¶²ä½“åŠ æ³¨è£…ç½®ä¸­çš„å¤šåŠŸèƒ½éš”è†œæ³µ', image: '/images/honors/patents/ä¸€ç§åº”ç”¨åœ¨æ¶²ä½“åŠ æ³¨è£…ç½®ä¸­çš„å¤šåŠŸèƒ½éš”è†œæ³µ.jpg' },
    { name: 'ä¸€ç§å‚¨ä¸å‚¨å¶æŸœä¼ºæœç”µæœºå‡é€Ÿæœºé©±åŠ¨ç³»ç»Ÿ', image: '/images/honors/patents/ä¸“åˆ©åç§°ï¼šä¸€ç§å‚¨ä¸å‚¨å¶æŸœä¼ºæœç”µæœºå‡é€Ÿæœºé©±åŠ¨ç³»ç»Ÿ.jpg' },
    { name: 'ä¸€ç§çš®å¸¦ç§¤', image: '/images/honors/patents/ä¸“åˆ©åç§°ï¼šä¸€ç§çš®å¸¦ç§¤.jpg' }
];
</script>

<template>
    <div class="container">
        <section class="section honors-page">
            <div class="section-header">
                <h2 class="section-title">èµ„è´¨è£èª‰ <span>HONORS</span></h2>
                <span class="title-line"></span>
            </div>

            <!-- èµ„è´¨è¯ä¹¦ -->
            <div class="honors-section">
                <h3 class="subsection-title">èµ„è´¨è¯ä¹¦</h3>
                <div class="honors-grid">
                    <div class="honor-card" v-for="(item, index) in certificates" :key="index" @click="openPreview(item.image, item.name)">
                        <div class="honor-img" style="cursor: pointer;">
                            <img :src="item.image" :alt="item.name">
                        </div>
                        <div class="honor-info">
                            <h4>{{ item.name }}</h4>
                            <p>{{ item.desc }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- è£èª‰å¥–é¡¹ -->
            <div class="honors-section">
                <h3 class="subsection-title">è£èª‰å¥–é¡¹</h3>
                <div class="awards-list">
                    <div class="award-item" v-for="(item, index) in awards" :key="index">
                        <div class="award-icon">ğŸ†</div>
                        <div class="award-content">
                            <h4>{{ item.name }}</h4>
                            <p>{{ item.desc }}</p>
                            <span class="award-year">{{ item.year }}</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ä¸“åˆ©æŠ€æœ¯ -->
            <div class="honors-section">
                <h3 class="subsection-title">ä¸“åˆ©æŠ€æœ¯</h3>
                <div class="honors-grid">
                    <div class="honor-card" v-for="(item, index) in patents" :key="index" @click="openPreview(item.image, item.name)">
                        <div class="honor-img" style="cursor: pointer;">
                            <img :src="item.image" :alt="item.name">
                        </div>
                        <div class="honor-info">
                            <h4>{{ item.name }}</h4>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å›¾ç‰‡é¢„è§ˆå¼¹çª— -->
        <div v-if="showPreview" class="image-preview-overlay" @click="closePreview">
            <div class="image-preview-container" @click.stop>
                <button class="preview-close" @click="closePreview">&times;</button>
                <img :src="previewImage" :alt="previewTitle">
                <p class="preview-title">{{ previewTitle }}</p>
            </div>
        </div>
    </div>
</template>

<style scoped>
.image-preview-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.image-preview-container {
    position: relative;
    max-width: 90%;
    max-height: 90%;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.image-preview-container img {
    max-width: 100%;
    max-height: 80vh;
    object-fit: contain;
    border-radius: 8px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
}

.preview-close {
    position: absolute;
    top: -40px;
    right: 0;
    width: 32px;
    height: 32px;
    background: rgba(255, 255, 255, 0.2);
    border: none;
    border-radius: 50%;
    color: #fff;
    font-size: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.preview-close:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg);
}

.preview-title {
    color: #fff;
    margin-top: 15px;
    font-size: 16px;
    text-align: center;
}
</style>
