<script setup>
import { ref, computed } from 'vue';

// ä¸€çº§åˆ†ç±»ï¼ˆå¤§ç±»ï¼‰
const categories = [
    { id: 1, name: 'å·æ¥æœºç»„é£æœº' },
    { id: 2, name: 'æ»¤æ£’æˆå‹æœºç»„é£æœº' },
    { id: 3, name: 'è¿›å£å·çƒŸæœºç»„é£æœº' },
    { id: 4, name: 'äº¬ä¸°ç”µæœºï¼ˆé£æœºä¸“ç”¨ï¼‰' },
    { id: 5, name: 'å…¶å®ƒäº§å“' }
];

const activeCategory = ref(1);

// äºŒçº§äº§å“æ•°æ®ï¼ˆåŒ…å«å›¾ç‰‡å’ŒPDFé“¾æ¥ï¼‰
// åŸºäºå®é™…ç›®å½•ç»“æ„: D:\jfç‰©æ–™\äº¬ä¸°ç‰©æ–™1\äº¬ä¸°å…¬å¸äº§å“
const productsData = {
    // å·æ¥æœºç»„é£æœº
    1: [
        {
            id: 'zj17',
            name: 'ZJ17å·æ¥æœºç»„é£æœº',
            image: '/images/products/å·æ¥ä¸“ä¸šé£æœº.jpg',
            previewPdf: '/products/03-ZJ  17å·çƒŸæœºç»„é£æœº/121-ZJ17å·æ¥æœºç»„é£æœºå®ç‰©ç…§ç‰‡.pdf',
            manualPdf: '/products/03-ZJ  17å·çƒŸæœºç»„é£æœº/131-ZJ17å·æ¥æœºç»„é£æœºè¯´æ˜ä¹¦.pdf',
            desc: 'ä¸“ä¸ºZJ17å·æ¥æœºç»„è®¾è®¡é…å¥—'
        },
        {
            id: 'zj116',
            name: 'ZJ116å·æ¥æœºç»„é£æœº',
            image: '/images/products/å·æ¥ä¸“ä¸šé£æœº.jpg',
            previewPdf: '/products/04-ZJ116å·çƒŸæœºç»„é£æœº/122-ZJ116å·æ¥æœºç»„é£æœºå®ç‰©ç…§ç‰‡.pdf',
            manualPdf: '/products/04-ZJ116å·çƒŸæœºç»„é£æœº/132-ZJ116å·æ¥æœºç»„é£æœºè¯´æ˜ä¹¦.pdf',
            desc: 'ä¸“ä¸ºZJ116å·æ¥æœºç»„è®¾è®¡é…å¥—'
        },
        {
            id: 'zj118',
            name: 'ZJ118å·æ¥æœºç»„é£æœº',
            image: '/images/products/å·æ¥ä¸“ä¸šé£æœº.jpg',
            previewPdf: '/products/05-ZJ118å·çƒŸæœºç»„é£æœº/123-ZJ118å·æ¥æœºç»„é£æœºå®ç‰©ç…§ç‰‡.pdf',
            manualPdf: '/products/05-ZJ118å·çƒŸæœºç»„é£æœº/133-ZJ118å·æ¥æœºç»„é£æœºè¯´æ˜ä¹¦.pdf',
            desc: 'ä¸“ä¸ºZJ118å·æ¥æœºç»„è®¾è®¡é…å¥—'
        },
        {
            id: 'zj119',
            name: 'ZJ119å·æ¥æœºç»„é£æœº',
            image: '/images/products/å·æ¥ä¸“ä¸šé£æœº.jpg',
            previewPdf: '/products/06-ZJ119å·çƒŸæœºç»„é£æœº/124-ZJ119å·æ¥æœºç»„é£æœºå®ç‰©ç…§ç‰‡.pdf',
            manualPdf: '/products/06-ZJ119å·çƒŸæœºç»„é£æœº/134-ZJ119å·æ¥æœºç»„é£æœºè¯´æ˜ä¹¦.pdf',
            desc: 'ä¸“ä¸ºZJ119å·æ¥æœºç»„è®¾è®¡é…å¥—'
        }
    ],
    // æ»¤æ£’æˆå‹æœºç»„é£æœº
    2: [
        {
            id: 'zl28',
            name: 'ZL28ã€ZL48æ»¤æ£’æˆå‹æœºé£æœº',
            image: '/images/products/åˆ¶ä¸ä¸“ä¸šé£æœº.jpg',
            previewPdf: '/products/07-æ»¤æ£’æˆå‹æœºç»„é£æœº/125-ZL28ã€ZL48æ»¤æ£’æˆå‹æœºé£æœºå®ç‰©ç…§ç‰‡.pdf',
            manualPdf: '/products/07-æ»¤æ£’æˆå‹æœºç»„é£æœº/135-ZL26Aæ»¤æ£’æˆå‹æœºè´Ÿå‹é£æœºè¯´æ˜ä¹¦.pdf',
            desc: 'é€‚ç”¨äºZL28ã€ZL48æ»¤æ£’æˆå‹æœº'
        },
        {
            id: 'zl26a',
            name: 'ZL26Aæ»¤æ£’æˆå‹æœºè´Ÿå‹é£æœº',
            image: '/images/products/åˆ¶ä¸ä¸“ä¸šé£æœº.jpg',
            previewPdf: '/products/07-æ»¤æ£’æˆå‹æœºç»„é£æœº/125-ZL28ã€ZL48æ»¤æ£’æˆå‹æœºé£æœºå®ç‰©ç…§ç‰‡.pdf',
            manualPdf: '/products/07-æ»¤æ£’æˆå‹æœºç»„é£æœº/135-ZL26Aæ»¤æ£’æˆå‹æœºè´Ÿå‹é£æœºè¯´æ˜ä¹¦.pdf',
            desc: 'è´Ÿå‹ç³»ç»Ÿä¸“ç”¨ï¼Œç¨³å®šé«˜æ•ˆ'
        },
        {
            id: 'kdf2',
            name: 'KDF2æ»¤æ£’æˆå‹æœºé£æœº',
            image: '/images/products/åˆ¶ä¸ä¸“ä¸šé£æœº.jpg',
            previewPdf: '/products/07-æ»¤æ£’æˆå‹æœºç»„é£æœº/125-ZL28ã€ZL48æ»¤æ£’æˆå‹æœºé£æœºå®ç‰©ç…§ç‰‡.pdf',
            manualPdf: '/products/07-æ»¤æ£’æˆå‹æœºç»„é£æœº/141-KDF2æ»¤æ£’æˆå‹æœºé£æœºè¯´æ˜ä¹¦.pdf',
            desc: 'é€‚ç”¨äºKDF2æ»¤æ£’æˆå‹æœº'
        }
    ],
    // è¿›å£å·çƒŸæœºç»„é£æœº
    3: [
        {
            id: 'gd121',
            name: 'GD121å·æ¥æœºç»„é£æœº',
            image: '/images/products/å·æ¥ä¸“ä¸šé£æœº.jpg',
            previewPdf: '/products/02-å·æ¥æœºç»„é£æœºæ€»è§ˆ/120å·çƒŸæœºé£æœºæ ·æœºå±•ç¤º.pdf',
            manualPdf: '/products/08-è¿›å£å·çƒŸæœºç»„é£æœº/136-GD121å·æ¥æœºç»„é£æœºè¯´æ˜ä¹¦.pdf',
            desc: 'è¿›å£GD121å·æ¥æœºç»„é…å¥—é£æœº'
        }
    ],
    // äº¬ä¸°ç”µæœºï¼ˆé£æœºä¸“ç”¨ï¼‰
    4: [
        {
            id: 'fengleng',
            name: 'äº¬ä¸°é£å†·ç”µæœºï¼ˆé£æœºä¸“ç”¨ï¼‰',
            image: '/images/products/å…¶ä»–çƒŸæœºè®¾å¤‡.jpg',
            previewPdf: '/products/02-å·æ¥æœºç»„é£æœºæ€»è§ˆ/120å·çƒŸæœºé£æœºæ ·æœºå±•ç¤º.pdf',
            manualPdf: '/products/09-äº¬ä¸°ç”µæœºï¼ˆé£æœºä¸“ç”¨ï¼‰/äº¬ä¸°é£å†·ç”µæœº(é£æœºä¸“ç”¨)è¯´æ˜ä¹¦.pdf',
            desc: 'ä¸“ä¸ºé£æœºè®¾è®¡çš„ä¸“ç”¨ç”µæœº'
        },
        {
            id: 'shuileng15',
            name: 'äº¬ä¸°æ°´å†·ç”µæœºï¼ˆ15kWï¼‰',
            image: '/products/09-äº¬ä¸°ç”µæœºï¼ˆé£æœºä¸“ç”¨ï¼‰/äº¬ä¸°æ°´å†·ç”µæœºï¼ˆ15kWï¼‰.jpg',
            previewPdf: null,
            manualPdf: '/products/09-äº¬ä¸°ç”µæœºï¼ˆé£æœºä¸“ç”¨ï¼‰/äº¬ä¸°é£å†·ç”µæœº(é£æœºä¸“ç”¨)è¯´æ˜ä¹¦.pdf',
            desc: '15kWæ°´å†·ç”µæœº'
        },
        {
            id: 'shuileng75',
            name: 'äº¬ä¸°æ°´å†·ç”µæœºï¼ˆ7.5kWï¼‰',
            image: '/products/09-äº¬ä¸°ç”µæœºï¼ˆé£æœºä¸“ç”¨ï¼‰/äº¬ä¸°æ°´å†·ç”µæœºï¼ˆ7.5kWï¼‰.jpg',
            previewPdf: null,
            manualPdf: '/products/09-äº¬ä¸°ç”µæœºï¼ˆé£æœºä¸“ç”¨ï¼‰/äº¬ä¸°é£å†·ç”µæœº(é£æœºä¸“ç”¨)è¯´æ˜ä¹¦.pdf',
            desc: '7.5kWæ°´å†·ç”µæœº'
        },
        {
            id: 'fengleng75',
            name: 'äº¬ä¸°é£å†·ç”µæœºï¼ˆ7.5kWï¼‰',
            image: '/products/09-äº¬ä¸°ç”µæœºï¼ˆé£æœºä¸“ç”¨ï¼‰/äº¬ä¸°é£å†·ç”µæœºï¼ˆ7.5kWï¼‰.jpg',
            previewPdf: null,
            manualPdf: '/products/09-äº¬ä¸°ç”µæœºï¼ˆé£æœºä¸“ç”¨ï¼‰/äº¬ä¸°é£å†·ç”µæœº(é£æœºä¸“ç”¨)è¯´æ˜ä¹¦.pdf',
            desc: '7.5kWé£å†·ç”µæœº'
        }
    ],
    // å…¶å®ƒäº§å“
    5: [
        {
            id: 'jf04',
            name: 'JF04 åŠ é¦™åŠ æ–™è£…ç½®',
            image: '/images/products/å…¶ä»–çƒŸæœºè®¾å¤‡.jpg',
            previewPdf: '/products/02-å·æ¥æœºç»„é£æœºæ€»è§ˆ/120å·çƒŸæœºé£æœºæ ·æœºå±•ç¤º.pdf',
            manualPdf: '/products/10-äº¬ä¸°çƒŸæœºï¼ˆå…¶å®ƒäº§å“ï¼‰/JF04-åŠ é¦™åŠ æ–™è£…ç½®.pdf',
            desc: 'ç²¾å‡†æ§åˆ¶ï¼Œæé«˜åŠ æ–™å‡åŒ€æ€§'
        },
        {
            id: 'jf05',
            name: 'JF05 ç”µå­çš®å¸¦ç§¤',
            image: '/images/products/å…¶ä»–çƒŸæœºè®¾å¤‡.jpg',
            previewPdf: '/products/02-å·æ¥æœºç»„é£æœºæ€»è§ˆ/120å·çƒŸæœºé£æœºæ ·æœºå±•ç¤º.pdf',
            manualPdf: '/products/10-äº¬ä¸°çƒŸæœºï¼ˆå…¶å®ƒäº§å“ï¼‰/JF05-ç”µå­çš®å¸¦ç§¤.pdf',
            desc: 'é«˜ç²¾åº¦è®¡é‡ï¼Œç¨³å®šå¯é '
        },
        {
            id: 'jf06',
            name: 'JF06 LEDç”µå­æ ‡ç‰Œç³»ç»Ÿ',
            image: '/images/products/å…¶ä»–çƒŸæœºè®¾å¤‡.jpg',
            previewPdf: '/products/02-å·æ¥æœºç»„é£æœºæ€»è§ˆ/120å·çƒŸæœºé£æœºæ ·æœºå±•ç¤º.pdf',
            manualPdf: '/products/10-äº¬ä¸°çƒŸæœºï¼ˆå…¶å®ƒäº§å“ï¼‰/JF06-Ledç”µå­æ ‡ç‰Œç³»ç»Ÿ.pdf',
            desc: 'ç°åœºå·¥ä¸šæ˜¾ç¤ºï¼Œæ¸…æ™°ç›´è§‚'
        },
        {
            id: 'jf07',
            name: 'JF07 æ¡æ¶å¼å‚¨æŸœ',
            image: '/images/products/å…¶ä»–çƒŸæœºè®¾å¤‡.jpg',
            previewPdf: '/products/02-å·æ¥æœºç»„é£æœºæ€»è§ˆ/120å·çƒŸæœºé£æœºæ ·æœºå±•ç¤º.pdf',
            manualPdf: '/products/10-äº¬ä¸°çƒŸæœºï¼ˆå…¶å®ƒäº§å“ï¼‰/JF07-æ¡æ¶å¼å‚¨æŸœ.pdf',
            desc: 'å¤§å®¹é‡å­˜å‚¨ï¼Œè‡ªåŠ¨åŒ–æ§åˆ¶'
        }
    ]
};

const currentProducts = computed(() => {
    return productsData[activeCategory.value] || [];
});

const openPdf = (pdfPath) => {
    if (pdfPath) {
        window.open(pdfPath, '_blank');
    }
};

const handleImageClick = (product) => {
    // å¦‚æœæœ‰é¢„è§ˆPDFï¼Œå…ˆæ‰“å¼€é¢„è§ˆ
    if (product.previewPdf) {
        openPdf(product.previewPdf);
    }
    // åŒæ—¶ä¹Ÿæ‰“å¼€è¯´æ˜ä¹¦
    openPdf(product.manualPdf);
};

const getCategoryName = () => {
    const cat = categories.find(c => c.id === activeCategory.value);
    return cat ? cat.name : '';
};
</script>

<template>
    <div class="container">
        <section class="section products-page">
            <div class="section-header">
                <h2 class="section-title">äº§å“å±•ç¤º <span>PRODUCTS</span></h2>
                <span class="title-line"></span>
            </div>

            <!-- ä¸€çº§åˆ†ç±»ï¼šå¤§ç±» -->
            <div class="category-level-1">
                <h3 class="level-title">äº§å“åˆ†ç±»</h3>
                <div class="category-tabs">
                    <button
                        v-for="category in categories"
                        :key="category.id"
                        :class="{ active: activeCategory === category.id }"
                        @click="activeCategory = category.id"
                        class="category-tab-btn"
                    >
                        {{ category.name }}
                    </button>
                </div>
            </div>

            <!-- äºŒçº§äº§å“å±•ç¤ºï¼šå…·ä½“æœºå‹ + å›¾ç‰‡ -->
            <div class="category-level-2">
                <h3 class="level-title">
                    {{ getCategoryName() }}
                    <span class="level-subtitle">- ç‚¹å‡»å›¾ç‰‡æŸ¥çœ‹å®ç‰©ç…§ç‰‡ï¼Œç‚¹å‡»æŒ‰é’®æŸ¥çœ‹è¯´æ˜ä¹¦</span>
                </h3>
                <div class="products-grid">
                    <div
                        v-for="product in currentProducts"
                        :key="product.id"
                        class="product-card"
                    >
                        <div
                            class="product-image-wrapper"
                            @click="handleImageClick(product)"
                            title="ç‚¹å‡»æŸ¥çœ‹å®ç‰©ç…§ç‰‡"
                        >
                            <img
                                :src="product.image"
                                :alt="product.name"
                                class="product-image"
                                @error="$event.target.src='/images/products/default-product.jpg'"
                            />
                            <div class="product-overlay">
                                <span class="view-icon">ğŸ“„</span>
                                <span class="view-text">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…</span>
                            </div>
                        </div>
                        <div class="product-details">
                            <h4 class="product-name">{{ product.name }}</h4>
                            <p class="product-desc">{{ product.desc }}</p>
                            <button
                                @click.stop="openPdf(product.manualPdf)"
                                class="manual-btn"
                            >
                                æŸ¥çœ‹PDFè¯´æ˜ä¹¦
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</template>

<style scoped>
/* ä¸€çº§åˆ†ç±»æ ·å¼ */
.category-level-1 {
    margin-bottom: 35px;
    padding: 25px;
    background: var(--white);
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.level-title {
    font-size: 16px;
    color: var(--text-dark);
    margin-bottom: 15px;
    font-weight: 600;
    text-align: left;
}

.level-subtitle {
    font-size: 13px;
    color: var(--text-light);
    font-weight: normal;
    margin-left: 0;
}

.category-tabs {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.category-tab-btn {
    padding: 10px 22px;
    background-color: #f8f9fa;
    border: 1px solid transparent;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 14px;
    color: var(--text-dark);
    font-weight: 500;
}

.category-tab-btn:hover {
    background-color: var(--primary-color);
    color: var(--white);
    transform: translateY(-1px);
    box-shadow: 0 3px 10px rgba(26, 95, 138, 0.2);
}

.category-tab-btn.active {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: var(--white);
    box-shadow: 0 3px 10px rgba(26, 95, 138, 0.3);
}

/* äºŒçº§äº§å“å±•ç¤ºæ ·å¼ */
.category-level-2 {
    animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.products-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 25px;
}

.product-card {
    background: var(--white);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s ease;
}

.product-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
    border-color: var(--accent-color);
}

.product-image-wrapper {
    position: relative;
    width: 100%;
    height: 200px;
    overflow: hidden;
    cursor: pointer;
    background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
}

.product-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.product-card:hover .product-image {
    transform: scale(1.1);
}

.product-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(26, 95, 138, 0.9), rgba(232, 121, 42, 0.85));
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
    gap: 10px;
}

.product-card:hover .product-overlay {
    opacity: 1;
}

.view-icon {
    font-size: 36px;
}

.view-text {
    color: var(--white);
    font-size: 14px;
    font-weight: 500;
}

.product-details {
    padding: 20px;
    text-align: center;
}

.product-name {
    font-size: 16px;
    color: var(--text-dark);
    margin-bottom: 10px;
    font-weight: 600;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.product-desc {
    font-size: 13px;
    color: var(--text-gray);
    margin-bottom: 15px;
    line-height: 1.5;
}

.manual-btn {
    padding: 8px 20px;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: var(--white);
    border: none;
    border-radius: 20px;
    cursor: pointer;
    font-size: 13px;
    transition: all 0.3s ease;
}

.manual-btn:hover {
    background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
    transform: scale(1.05);
    box-shadow: 0 4px 15px rgba(232, 121, 42, 0.4);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 1200px) {
    .products-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (max-width: 992px) {
    .products-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .category-tabs {
        justify-content: center;
    }

    .products-grid {
        grid-template-columns: 1fr;
    }

    .level-title {
        font-size: 18px;
    }

    .level-subtitle {
        display: block;
        margin-left: 0;
        margin-top: 5px;
    }
}
</style>
